############################################
# TinyClient Environment Example
#
# Copy to one of:
# - .env.local   (local development)
# - .env.hosted  (Vercel frontend + VPS backend)
#
# Precedence & Scheme
# Frontend API base URL:
#   1) NEXT_PUBLIC_API_BASE_URL (absolute)  ← recommended in production
#   2) Built from NEXT_PUBLIC_APP_DOMAIN + NEXT_PUBLIC_APP_PROTOCOL + NEXT_PUBLIC_BACKEND_PORT
# Backend public URLs:
#   1) FRONTEND_BASE_URL / BACKEND_BASE_URL (absolute)  ← recommended in production
#   2) Built from APP_DOMAIN + APP_PROTOCOL + FRONTEND_PORT/BACKEND_PORT
# CORS origins include these public origins + localhost defaults + EXTRA_ALLOWED_ORIGINS.
############################################

# Branding
PROJECT_NAME=TinyClient
NEXT_PUBLIC_PROJECT_NAME=TinyClient

# Database (SQLite by default; swap to Postgres in production)
DATABASE_URL=sqlite:///./tinyclient.db
# DATABASE_URL=postgresql+psycopg://user:pass@localhost:5432/tinyclient

# JWT Configuration (change in production)
JWT_SECRET_KEY=changeme
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password policy (backend + mirrored on frontend UX)
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_LOWER=true
PASSWORD_REQUIRE_UPPER=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SYMBOL=true
NEXT_PUBLIC_PASSWORD_MIN_LENGTH=12
NEXT_PUBLIC_PASSWORD_REQUIRE_LOWER=true
NEXT_PUBLIC_PASSWORD_REQUIRE_UPPER=true
NEXT_PUBLIC_PASSWORD_REQUIRE_DIGIT=true
NEXT_PUBLIC_PASSWORD_REQUIRE_SYMBOL=true

# Email (Resend)
RESEND_API_KEY=your-resend-api-key
RESEND_FROM_EMAIL=noreply@example.com
RESEND_FROM_NAME=TinyClient

# Initial users (for database seeding)
ADMIN_EMAIL=admin@example.com
ADMIN_USERNAME=admin
ADMIN_PASSWORD=changeMe123!
USER_EMAIL=user@example.com
USER_USERNAME=user
USER_PASSWORD=changeMe123!

# Logging
LOG_ONLY_API_PATHS=true
SKIP_OPTIONS_LOGS=true

############################################
# Local development profile (HTTP on localhost)
############################################
APP_DOMAIN=localhost
APP_PROTOCOL=http
FRONTEND_PORT=3000
BACKEND_PORT=8001

# Absolute URL overrides (not needed locally)
# FRONTEND_BASE_URL=
# BACKEND_BASE_URL=

# Frontend (Next.js) computed from APP_* unless overridden
NEXT_PUBLIC_APP_DOMAIN=localhost
NEXT_PUBLIC_APP_PROTOCOL=http
NEXT_PUBLIC_FRONTEND_PORT=3000
NEXT_PUBLIC_BACKEND_PORT=8001
# Optional explicit API override for local (usually leave empty):
# NEXT_PUBLIC_API_BASE_URL=

# Local CORS and cookies
EXTRA_ALLOWED_ORIGINS=
COOKIE_SECURE=
COOKIE_SAMESITE=lax
COOKIE_DOMAIN=
COOKIE_PATH=/

# Signup & invites (local defaults)
ALLOW_SIGNUP=true
NEXT_PUBLIC_ALLOW_SIGNUP=true
EMAIL_VERIFICATION_EXPIRATION_HOURS=24
INVITE_EXPIRATION_HOURS=24
PASSWORD_RESET_EXPIRATION_HOURS=2

############################################
# Hosted profile (Vercel + VPS)
############################################
# Public absolute URLs (recommended in production)
# FRONTEND_BASE_URL=https://tinyclient.app
# BACKEND_BASE_URL=https://api.tinyclient.app

# Frontend explicit API base URL so it never assumes same-host
# NEXT_PUBLIC_API_BASE_URL=https://api.tinyclient.app
# NEXT_PUBLIC_APP_DOMAIN=tinyclient.app
# NEXT_PUBLIC_APP_PROTOCOL=https
# NEXT_PUBLIC_FRONTEND_PORT=
# NEXT_PUBLIC_BACKEND_PORT=

# Cross-site cookies (required for split domains)
# COOKIE_SECURE=true
# COOKIE_SAMESITE=none
# COOKIE_DOMAIN=   # leave empty; or set to .tinyclient.app if you explicitly want shared scope
# COOKIE_PATH=/

# CORS for production
# EXTRA_ALLOWED_ORIGINS=https://tinyclient.app,https://<your-project>.vercel.app
# CORS_ALLOW_ORIGIN_REGEX=^https://.*\.vercel\.app$
